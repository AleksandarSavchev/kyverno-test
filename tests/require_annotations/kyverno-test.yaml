apiVersion: cli.kyverno.io/v1alpha1
kind: Test
metadata:
  name: require_annotations_test
policies:
  - ./require_annotations.yaml
resources:
  - ./pod_with_annotation.yaml
  - ./pod_without_annotation.yaml
results:
  - policy: require-annotations
    rule: check-for-annotation
    resources: 
      - nginx
    kind: Pod
    result: fail
  - policy: require-annotations
    rule: check-for-annotation
    resources: 
      - nginx-with
    kind: Pod
    result: pass
